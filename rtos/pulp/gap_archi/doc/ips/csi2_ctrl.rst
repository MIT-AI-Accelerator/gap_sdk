.. 
   Input file: fe/ips/lnt_csi2_rx/README_CTRL.md

Register map for MIPI CSI2 Controller
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


Overview
""""""""

.. table:: 

    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |                         Name                          |Offset|Width|                   Description                    |
    +=======================================================+======+=====+==================================================+
    |:ref:`CONFIG<csi2_ctrl_CONFIG>`                        |   384|   32|Configuration of the number of active lanes       |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`ERR_MSB1<csi2_ctrl_ERR_MSB1>`                    |   388|   32|Error status MSB1                                 |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`ERR_MSB<csi2_ctrl_ERR_MSB>`                      |   392|   32|Error status MSB                                  |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`ERR_LSB<csi2_ctrl_ERR_LSB>`                      |   396|   32|Error status LSB                                  |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`HS_RX_TIMEOUT_MSB2<csi2_ctrl_HS_RX_TIMEOUT_MSB2>`|   400|   32|Configuration of timeout in high speed mode (MSB2)|
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`HS_RX_TIMEOUT_MSB1<csi2_ctrl_HS_RX_TIMEOUT_MSB1>`|   404|   32|Configuration of timeout in high speed mode (MSB1)|
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`HS_RX_TIMEOUT_LSB<csi2_ctrl_HS_RX_TIMEOUT_LSB>`  |   408|   32|Configuration of timeout in high speed mode (LSB) |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`VCCFG<csi2_ctrl_VCCFG>`                          |   412|   32|Virtual Channel configuration                     |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`POLARITY<csi2_ctrl_POLARITY>`                    |   416|   32|Vsync and Hsync polarity                          |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_ADDRESS<csi2_ctrl_CCI_ADDRESS>`              |   420|   32|CCI address                                       |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_WRITE_DATA<csi2_ctrl_CCI_WRITE_DATA>`        |   424|   32|CCI write data                                    |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_READ_DATA<csi2_ctrl_CCI_READ_DATA>`          |   428|   32|CCI read data                                     |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_READ_WRITE<csi2_ctrl_CCI_READ_WRITE>`        |   432|   32|CCI R/W                                           |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_STATUS<csi2_ctrl_CCI_STATUS>`                |   436|   32|CCI status                                        |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`CCI_DEV_ADDR<csi2_ctrl_CCI_DEV_ADDR>`            |   440|   32|CCI device ID                                     |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+
    |:ref:`ULPS_STATUS<csi2_ctrl_ULPS_STATUS>`              |   444|   32|CSI2 ULPS status                                  |
    +-------------------------------------------------------+------+-----+--------------------------------------------------+

.. _csi2_ctrl_CONFIG:

CONFIG
""""""

Configuration of the number of active lanes

.. table:: 

    +-----+---+----------+-------------------------------------------------------------------------+
    |Bit #|R/W|   Name   |                               Description                               |
    +=====+===+==========+=========================================================================+
    |1:0  |R/W|CSI_CONFIG|Number of active lanes: b00: single lane, b01: two lanes, b11: four lanes|
    +-----+---+----------+-------------------------------------------------------------------------+

.. _csi2_ctrl_ERR_MSB1:

ERR_MSB1
""""""""

Error status MSB1

.. table:: 

    +-----+---+--------------+--------------------------------------------------------------------------------------------+
    |Bit #|R/W|     Name     |                                        Description                                         |
    +=====+===+==============+============================================================================================+
    |    0|R  |CRC_ERROR_VC_3|Set to 1 if there is a checksum error on virtual channel 3 (Checksum Error Long packet only)|
    +-----+---+--------------+--------------------------------------------------------------------------------------------+
    |    1|R  |ERR_ESC       |Set to 1 if there is an error in escape entry command                                       |
    +-----+---+--------------+--------------------------------------------------------------------------------------------+

.. _csi2_ctrl_ERR_MSB:

ERR_MSB
"""""""

Error status MSB

.. table:: 

    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |Bit #|R/W|     Name     |                                            Description                                             |
    +=====+===+==============+====================================================================================================+
    |    0|R  |INVLD_PKT_LEN |Set to 1 if there is an invalid packet length (invalid transmission length)                         |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    1|R  |FRAME_SYNC_ERR|Set to 1 if a frame end is received but not paired with a frame start in the same virtual channel   |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    2|R  |ECC_NO_ERR    |Set to 1 when ECC check shows no error (either no error or more than 2 bits of error)               |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    3|R  |ECC_BIT_ERROR |Set to 1 if there is an error in the ECC field                                                      |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    4|R  |ERR_FRAME_DATA|If a CRC error is present in the data packet, then this error is set to 1 when vsync end is received|
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    5|R  |HS_RX_TO_ERR  |Set to 1 in case of HS RX timeout                                                                   |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    6|R  |CRC_ERROR_VC1 |Set to 1 if there is a checksum error on virtual channel 1 (Checksum Error Long packet only)        |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+
    |    7|R  |CRC_ERROR_VC2 |Set to 1 if there is a checksum error on virtual channel 2 (Checksum Error Long packet only)        |
    +-----+---+--------------+----------------------------------------------------------------------------------------------------+

.. _csi2_ctrl_ERR_LSB:

ERR_LSB
"""""""

Error status LSB

.. table:: 

    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|     Name      |                                                        Description                                                        |
    +=====+===+===============+===========================================================================================================================+
    |    0|R  |SOT_ERR        |Set to 1 if there is an error with start of frame (SoT Error)                                                              |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    1|R  |SOT_SYNC_ERR   |Set to 1 if there is an error in synchronization of Start of Transfer (SoT Sync Error)                                     |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    2|R  |FALSE_CTRL     |Set to 1 if there is a False Control Error                                                                                 |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    3|R  |ECC_ERR_SINGLE |Set to 1 if there is a single bit error, even when it is corrected using ECC (ECC Error, single-bit detected and corrected)|
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    4|R  |ECC_ERR_MULT   |Set to 1 if there is a two-bit error in the packet (ECC Error, multi-bit detected not corrected)                           |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    5|R  |CRC_ERROR_VC0  |Set to 1 if there is a checksum error on virtual channel 0 (Checksum Error Long packet only)                               |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    6|R  |INVLD_DATA_TYPE|Set to 1 if the received data is invalid (CSI Data Type Not Recognized)                                                    |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+
    |    7|R  |INVLD_VC_ID    |Set to 1 in case of invalid virtual channel ID (CSI VC ID Invalid)                                                         |
    +-----+---+---------------+---------------------------------------------------------------------------------------------------------------------------+

.. _csi2_ctrl_HS_RX_TIMEOUT_MSB2:

HS_RX_TIMEOUT_MSB2
""""""""""""""""""

Configuration of timeout in high speed mode (MSB2)

.. table:: 

    +-----+---+--------+--------------------------------------------------------+
    |Bit #|R/W|  Name  |                      Description                       |
    +=====+===+========+========================================================+
    |7:0  |R/W|TIME_OUT|High speed request timeout configuration (bits 16 to 23)|
    +-----+---+--------+--------------------------------------------------------+

.. _csi2_ctrl_HS_RX_TIMEOUT_MSB1:

HS_RX_TIMEOUT_MSB1
""""""""""""""""""

Configuration of timeout in high speed mode (MSB1)

.. table:: 

    +-----+---+--------+-------------------------------------------------------+
    |Bit #|R/W|  Name  |                      Description                      |
    +=====+===+========+=======================================================+
    |7:0  |R/W|TIME_OUT|High speed request timeout configuration (bits 8 to 15)|
    +-----+---+--------+-------------------------------------------------------+

.. _csi2_ctrl_HS_RX_TIMEOUT_LSB:

HS_RX_TIMEOUT_LSB
"""""""""""""""""

Configuration of timeout in high speed mode (LSB)

.. table:: 

    +-----+---+--------+------------------------------------------------------+
    |Bit #|R/W|  Name  |                     Description                      |
    +=====+===+========+======================================================+
    |7:0  |R/W|TIME_OUT|High speed request timeout configuration (bits 0 to 7)|
    +-----+---+--------+------------------------------------------------------+

.. _csi2_ctrl_VCCFG:

VCCFG
"""""

Virtual Channel configuration

.. table:: 

    +-----+---+-----+-------------------------------------------------------------+
    |Bit #|R/W|Name |                         Description                         |
    +=====+===+=====+=============================================================+
    |    0|R/W|VCCFG|Set bit to 1 to enable virtual channel (default: VC0 enabled)|
    +-----+---+-----+-------------------------------------------------------------+

.. _csi2_ctrl_POLARITY:

POLARITY
""""""""

Vsync and Hsync polarity

.. table:: 

    +-----+---+-----+---------------------------------------------+
    |Bit #|R/W|Name |                 Description                 |
    +=====+===+=====+=============================================+
    |    0|R/W|VSYNC|VSYNC polarity: 0: active high, 1: active low|
    +-----+---+-----+---------------------------------------------+
    |    1|R/W|HSYNC|HSYNC polarity: 0: active high, 1: active low|
    +-----+---+-----+---------------------------------------------+

.. _csi2_ctrl_CCI_ADDRESS:

CCI_ADDRESS
"""""""""""

CCI address

.. table:: 

    +-----+---+-------+---------------------+
    |Bit #|R/W| Name  |     Description     |
    +=====+===+=======+=====================+
    |7:0  |R/W|ADDRESS|CCI interface address|
    +-----+---+-------+---------------------+

.. _csi2_ctrl_CCI_WRITE_DATA:

CCI_WRITE_DATA
""""""""""""""

CCI write data

.. table:: 

    +-----+---+-------+------------------------+
    |Bit #|R/W| Name  |      Description       |
    +=====+===+=======+========================+
    |7:0  |R/W|WR_DATA|CCI interface write data|
    +-----+---+-------+------------------------+

.. _csi2_ctrl_CCI_READ_DATA:

CCI_READ_DATA
"""""""""""""

CCI read data

.. table:: 

    +-----+---+-------+-----------------------+
    |Bit #|R/W| Name  |      Description      |
    +=====+===+=======+=======================+
    |7:0  |R  |RD_DATA|CCI interface read data|
    +-----+---+-------+-----------------------+

.. _csi2_ctrl_CCI_READ_WRITE:

CCI_READ_WRITE
""""""""""""""

CCI R/W

.. table:: 

    +-----+---+---------+-----------+
    |Bit #|R/W|  Name   |Description|
    +=====+===+=========+===========+
    |6:0  |R/W|CCI_BYTE |CCI byte   |
    +-----+---+---------+-----------+
    |7    |W  |CCI_WRITE|CCI write  |
    +-----+---+---------+-----------+

.. _csi2_ctrl_CCI_STATUS:

CCI_STATUS
""""""""""

CCI status

.. table:: 

    +-----+---+---------+-------------------------------------------+
    |Bit #|R/W|  Name   |                Description                |
    +=====+===+=========+===========================================+
    |    0|R/W|RW_DONE  |Read/write transfer done (write 1 to clear)|
    +-----+---+---------+-------------------------------------------+
    |    1|R  |READ_READ|Is set to 1 if CCI read data available     |
    +-----+---+---------+-------------------------------------------+

.. _csi2_ctrl_CCI_DEV_ADDR:

CCI_DEV_ADDR
""""""""""""

CCI device ID

.. table:: 

    +-----+---+----+------------------+
    |Bit #|R/W|Name|   Description    |
    +=====+===+====+==================+
    |6:0  |R/W|ADDR|CCI device address|
    +-----+---+----+------------------+

.. _csi2_ctrl_ULPS_STATUS:

ULPS_STATUS
"""""""""""

CSI2 ULPS status

.. table:: 

    +-----+---+-----------------+-----------------------------------------------------------+
    |Bit #|R/W|      Name       |                        Description                        |
    +=====+===+=================+===========================================================+
    |    0|R  |ULPS_ACTIVE_LANE0|Set to 1 if ultra low power state is active for data lane 0|
    +-----+---+-----------------+-----------------------------------------------------------+
    |    1|R  |ULPS_ACTIVE_LANE1|Set to 1 if ultra low power state is active for data lane 1|
    +-----+---+-----------------+-----------------------------------------------------------+
    |    4|R  |ULPS_ACTIVE_CLK  |Set to 1 if ultra low power state is active for clock lane |
    +-----+---+-----------------+-----------------------------------------------------------+
