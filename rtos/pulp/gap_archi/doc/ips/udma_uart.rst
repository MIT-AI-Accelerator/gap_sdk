.. 
   Input file: fe/ips/udma/udma_uart/docs/doc.md

Register map
^^^^^^^^^^^^


Overview
""""""""

.. table:: 

    +---------------------------------+------+-----+----------------------------------+
    |              Name               |Offset|Width|           Description            |
    +=================================+======+=====+==================================+
    |:ref:`RX_DEST<udma_uart_RX_DEST>`|     0|   32|Stream ID for the uDMA RX channel |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`TX_DEST<udma_uart_TX_DEST>`|     4|   32|Stream ID for the uDMA TX channel |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`MISC<udma_uart_MISC>`      |    16|   32|Send events                       |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`STATUS<udma_uart_STATUS>`  |    32|   32|Status register                   |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`SETUP<udma_uart_SETUP>`    |    36|   32|Configuration register            |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`ERROR<udma_uart_ERROR>`    |    40|   32|Error register, cleared on reading|
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`IRQ_EN<udma_uart_IRQ_EN>`  |    44|   32|Enable/disable events             |
    +---------------------------------+------+-----+----------------------------------+
    |:ref:`SETUP_2<udma_uart_SETUP_2>`|    56|   32|Configuration register 2          |
    +---------------------------------+------+-----+----------------------------------+

.. _udma_uart_RX_DEST:

RX_DEST
"""""""

Stream ID for the uDMA RX channel

.. table:: 

    +-----+---+-------+---------------------------------------------------------------------+
    |Bit #|R/W| Name  |                             Description                             |
    +=====+===+=======+=====================================================================+
    |7:0  |RW |RX_DEST|Stream ID for the RX uDMA channel. Default is 0xFF (channel disabled)|
    +-----+---+-------+---------------------------------------------------------------------+

.. _udma_uart_TX_DEST:

TX_DEST
"""""""

Stream ID for the uDMA TX channel

.. table:: 

    +-----+---+-------+---------------------------------------------------------------------+
    |Bit #|R/W| Name  |                             Description                             |
    +=====+===+=======+=====================================================================+
    |7:0  |RW |TX_DEST|Stream ID for the TX uDMA channel. Default is 0xFF (channel disabled)|
    +-----+---+-------+---------------------------------------------------------------------+

.. _udma_uart_MISC:

MISC
""""

Send events

.. table:: 

    +-----+---+---------------------+---------------------------+
    |Bit #|R/W|        Name         |        Description        |
    +=====+===+=====================+===========================+
    |    0|W  |TX_FIFO_CLEAR_EVENT_O|Send event to clear TX FIFO|
    +-----+---+---------------------+---------------------------+
    |    1|W  |RX_FIFO_CLEAR_EVENT_O|Send event to clear RX FIFO|
    +-----+---+---------------------+---------------------------+
    |    2|W  |TX_FSM_RESET_EVENT_O |Send event to reset TX FSM |
    +-----+---+---------------------+---------------------------+
    |    3|W  |RX_FSM_RESET_EVENT_O |Send event to reset RX FSM |
    +-----+---+---------------------+---------------------------+

.. _udma_uart_STATUS:

STATUS
""""""

Status register

.. table:: 

    +-----+---+-------+------------------------------+
    |Bit #|R/W| Name  |         Description          |
    +=====+===+=======+==============================+
    |    0|R  |TX_BUSY|Transmitter is sending a frame|
    +-----+---+-------+------------------------------+
    |    1|R  |RX_BUSY|Receiver is receiving a frame |
    +-----+---+-------+------------------------------+

.. _udma_uart_SETUP:

SETUP
"""""

Configuration register

.. table:: 

    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |Bit #|R/W|   Name   |                                                   Description                                                   |
    +=====+===+==========+=================================================================================================================+
    |    0|RW |PARITY_ENA|Enable parity bit for TX and RX blocks                                                                           |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |2:1  |RW |BIT_LENGTH|RX/TX word width (see encoding below)                                                                            |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |    3|RW |STOP_BITS |Stop bits count (see encoding below)                                                                             |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |    8|RW |TX_ENA    |Enable transmitter                                                                                               |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |    9|RW |RX_ENA    |Enable receiver                                                                                                  |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |   10|RW |CTS_EN    |Flow control: enable Clear To Send input pin. Transmitter will send next word if UART CTS input is 0.            |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |   11|RW |RTS_EN    |Flow control: enable Ready To Send output pin. UART RTS output is set to 0 if the receiver can receive next word.|
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |   12|RW |TX_CLK_EN |Enable synchronous master mode                                                                                   |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |   13|RW |TX_CLK_POL|Configure TX clock polarity (see encoding below)                                                                 |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |   14|RW |TX_CLK_PHA|Configure TX clock phase (see encoding below)                                                                    |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+
    |31:16|RW |CLKDIV    |Baudrate divider applied to selected internal clock. Baudrate = Clk_freq / (CLKDIV + 1)                          |
    +-----+---+----------+-----------------------------------------------------------------------------------------------------------------+

.. _udma_uart_ERROR:

ERROR
"""""

Error register, cleared on reading

.. table:: 

    +-----+---+------------+--------------------+
    |Bit #|R/W|    Name    |    Description     |
    +=====+===+============+====================+
    |    0|R  |ERR_OVERFLOW|RX overflow flag    |
    +-----+---+------------+--------------------+
    |    1|R  |ERR_PARITY  |RX parity error flag|
    +-----+---+------------+--------------------+

.. _udma_uart_IRQ_EN:

IRQ_EN
""""""

Enable/disable events

.. table:: 

    +-----+---+-------+-----------------------------------------------------------------+
    |Bit #|R/W| Name  |                           Description                           |
    +=====+===+=======+=================================================================+
    |    0|R/W|RX_IRQ |Emit event if RX received a word                                 |
    +-----+---+-------+-----------------------------------------------------------------+
    |    1|R/W|ERR_IRQ|Emit event on an error (see ERROR register)                      |
    +-----+---+-------+-----------------------------------------------------------------+
    |    2|R/W|TX_IRQ |Emit event after a byte is sent, after stop symbol is transmitted|
    +-----+---+-------+-----------------------------------------------------------------+

.. _udma_uart_SETUP_2:

SETUP_2
"""""""

Configuration register 2

.. table:: 

    +-----+---+--------------+-----------------------------------------------------------------------------------+
    |Bit #|R/W|     Name     |                                    Description                                    |
    +=====+===+==============+===================================================================================+
    |3:0  |R/W|RTS_HIGH_LIMIT|Deassert UART RTS when number of data in the FIFO â‰¥ RTS_HIGH_LIMIT. FIFO size is 8.|
    +-----+---+--------------+-----------------------------------------------------------------------------------+
